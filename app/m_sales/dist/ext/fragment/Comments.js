sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel","sap/m/MessageToast"],function(e,o,t){"use strict";return{onBrowseHistoryPress:async function(){var e=this.byId("commentHistoryDialog");if(!e){e=sap.ui.xmlfragment(this.getView().getId(),"msales.ext.fragment.Comments",this);this.getView().addDependent(e)}var n="https://6ad3155ftrial-dev-mahindra-sales-srv.cfapps.us10-001.hana.ondemand.com/odata/v4/my/Comment";debugger;try{const t=await new Promise((e,o)=>{jQuery.ajax({url:n,method:"GET",dataType:"json",success:function(t){if(t&&t.value){e(t.value)}else{o("No data found")}},error:function(e){o(e.responseText||"Error fetching data")}})});const r=window.location.href;const i=/purchaseEnquiryUuid=([a-f0-9\-]+)/;const c=r.match(i);var s;if(c&&c[1]){s=c[1];console.log(s)}else{console.log("UUID not found")}const l=t.filter(e=>e.purchaseEnquiryUuid===s);debugger;if(l&&l===null){reject("Sorry No Comment History Found")}else{var a=new o;a.setData({Files:l});e.setModel(a,"myModel");e.open()}}catch(e){console.error("Error fetching comment data:",e);t.show("Failed to load comment history: "+e)}},onCloseHistoryDialog:function(){var e=this.byId("commentHistoryDialog");if(e){e.close()}},onDialogOpen:function(){console.log("Comment History Dialog opened")}}});
//# sourceMappingURL=Comments.js.map